const mongoose = require('mongoose');
const Room = require('./models/Room');
require('dotenv').config();

const roomsData = [
  { name: 'D-12', capacity: 40 },
  { name: 'D-13', capacity: 40 },
  { name: 'D-14', capacity: 40 },
  { name: 'D-15', capacity: 40 },
  { name: 'G-305', capacity: 33 },
  { name: 'G-306', capacity: 35 },
  { name: 'G-307', capacity: 35 },
  { name: 'G-308', capacity: 33 },
  { name: 'J-303', capacity: 26 },
  { name: 'J-304', capacity: 51 },
  { name: 'J-306', capacity: 51 },
  { name: 'J-307', capacity: 51 },
  { name: 'J-315', capacity: 50 },
  { name: 'J-316', capacity: 50 },
  { name: 'J-317', capacity: 50 },
  { name: 'J-402', capacity: 40 },
  { name: 'J-405', capacity: 32 },
  { name: 'J-407', capacity: 40 },
  { name: 'J-408', capacity: 40 },
  { name: 'J-410', capacity: 40 },
  { name: 'J-411', capacity: 40 },
  { name: 'J-412', capacity: 32 },
  { name: 'J-416', capacity: 40 },
  { name: 'L-105', capacity: 40 },
  { name: 'L-106', capacity: 40 },
  { name: 'L-107', capacity: 36 },
  { name: 'L-108', capacity: 40 },
  { name: 'L-114', capacity: 40 },
  { name: 'L-115', capacity: 40 },
  { name: 'L-116', capacity: 40 },
  { name: 'L-117', capacity: 40 },
  { name: 'L-118', capacity: 40 },
  { name: 'L-201', capacity: 56 },
  { name: 'L-202', capacity: 40 },
  { name: 'L-203', capacity: 40 },
  { name: 'L-204', capacity: 40 },
  { name: 'L-205', capacity: 40 },
  { name: 'L-206', capacity: 40 },
  { name: 'L-207', capacity: 30 },
  { name: 'L-208', capacity: 30 },
  { name: 'L-209', capacity: 40 },
  { name: 'L-210', capacity: 40 },
  { name: 'L-211', capacity: 40 },
  { name: 'L-212', capacity: 40 },
  { name: 'L-213', capacity: 40 },
  { name: 'L-214', capacity: 40 },
  { name: 'L-215', capacity: 56 },
  { name: 'L-301', capacity: 39 },
  { name: 'L-302', capacity: 38 },
  { name: 'L-303', capacity: 43 },
  { name: 'L-304', capacity: 47 },
  { name: 'L-305', capacity: 58 },
  { name: 'L-306', capacity: 60 },
  { name: 'L-317', capacity: 48 },
  { name: 'M-105', capacity: 40 },
  { name: 'M-106', capacity: 40 },
  { name: 'M-107', capacity: 40 },
  { name: 'M-108', capacity: 40 },
  { name: 'M-109', capacity: 40 },
  { name: 'M-110', capacity: 12 },
  { name: 'M-115', capacity: 40 },
  { name: 'M-116', capacity: 40 },
  { name: 'M-117', capacity: 40 },
  { name: 'M-118', capacity: 40 },
  { name: 'M-203', capacity: 40 },
  { name: 'M-204', capacity: 40 },
  { name: 'M-205', capacity: 40 },
  { name: 'M-207', capacity: 30 },
  { name: 'M-208', capacity: 30 },
  { name: 'M-209', capacity: 40 },
  { name: 'M-210', capacity: 40 },
  { name: 'M-211', capacity: 40 },
  { name: 'M-212', capacity: 40 },
  { name: 'M-213', capacity: 40 },
  { name: 'M-214', capacity: 30 },
  { name: 'M-215', capacity: 30 },
  { name: 'M-401', capacity: 54 },
  { name: 'M-402', capacity: 46 },
  { name: 'M-403', capacity: 46 },
  { name: 'M-404', capacity: 48 },
  { name: 'M-405', capacity: 48 },
  { name: 'M-407', capacity: 46 },
  { name: 'M-408', capacity: 54 },
  { name: 'M-409', capacity: 46 },
  { name: 'M-410', capacity: 46 },
  { name: 'M-411', capacity: 46 },
  { name: 'M-412', capacity: 46 },
  { name: 'M-413', capacity: 48 },
  { name: 'M-414', capacity: 51 },
  { name: 'O-107', capacity: 56 },
  { name: 'O-108', capacity: 48 },
  { name: 'O-109', capacity: 62 },
  { name: 'Q-103', capacity: 27 },
  { name: 'Q-104', capacity: 27 },
  { name: 'T-301', capacity: 46 },
  { name: 'T-302', capacity: 46 },
  { name: 'T-303', capacity: 46 },
  { name: 'T-304', capacity: 46 },
  { name: 'T-305', capacity: 39 },
  { name: 'T-306', capacity: 36 },
  { name: 'T-307', capacity: 46 },
  { name: 'T-308', capacity: 32 },
  { name: 'T-401', capacity: 46 },
  { name: 'T-402', capacity: 46 },
  { name: 'T-403', capacity: 46 },
  { name: 'T-404', capacity: 46 },
  { name: 'T-405', capacity: 43 },
  { name: 'T-406', capacity: 36 },
  { name: 'T-407', capacity: 46 },
  { name: 'T-408', capacity: 32 }
];

mongoose.connect(process.env.MONGODB_URI, { useNewUrlParser: true, useUnifiedTopology: true })
  .then(async () => {
    console.log('Connected to MongoDB');

    // Eliminar todos los salones existentes
    await Room.deleteMany({});

    // Insertar los nuevos salones
    await Room.insertMany(roomsData);

    console.log('Rooms data has been loaded successfully');
    mongoose.disconnect();
  })
  .catch(err => {
    console.error('Error connecting to MongoDB', err);
  });